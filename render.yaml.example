services:
  - type: web
    name: newsletter-platform
    env: node
    buildCommand: npm install && npm run build
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      # Authentication
      - key: NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY
        value: your_clerk_publishable_key
      - key: CLERK_SECRET_KEY
        value: your_clerk_secret_key
      # AWS SES Configuration
      - key: AWS_ACCESS_KEY
        value: your_aws_access_key
      - key: AWS_SECRET_KEY
        value: your_aws_secret_key
      # Stripe Configuration
      - key: STRIPE_PUBLISHABLE_KEY
        value: your_stripe_publishable_key
      - key: STRIPE_SECRET_KEY
        value: your_stripe_secret_key
      - key: STRIPE_WEBHOOK_SECRET
        value: your_stripe_webhook_secret
      # Application Configuration
      - key: NEXT_PUBLIC_WEBSITE_URL
        value: ${RENDER_EXTERNAL_URL}
      - key: JWT_SECRET_KEY
        value: your_jwt_secret_key
      - key: MONGODB_URI
        value: your_mongodb_uri
      - key: ZEROBOUNCE_API_KEY
        value: your_zerobounce_api_key
    healthCheckPath: /
    autoDeploy: true

# Instructions:
# 1. Copy this file to render.yaml
# 2. Replace all placeholder values (your_*) with actual secrets
# 3. Set these values in Render's environment variables dashboard instead of this file
# 4. Keep render.yaml in .gitignore to prevent committing secrets
